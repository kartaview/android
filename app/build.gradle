apply plugin: 'com.android.application'

android {
    compileSdkVersion 24
    buildToolsVersion '23.0.3'
    defaultConfig {
        applicationId "com.telenav.streetview"
        minSdkVersion 16
        targetSdkVersion 22
        useLibrary 'org.apache.http.legacy' //only for 23
        multiDexEnabled = true
    }
    buildTypes {
        debug {
            applicationIdSuffix ".debug"
            versionNameSuffix '-DEBUG'
            resValue "string", "app_name", "OSV debug"
            debuggable true
            jniDebuggable true
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
        }
    }
    dexOptions {
        javaMaxHeapSize "4g"
    }
    lintOptions {
        abortOnError false
        ignoreWarnings true
        quiet true
    }
    aaptOptions {
        useNewCruncher false
    }
    sourceSets {
        main {
            aidl.srcDirs = ['src/main/java']
            jni.srcDirs = []
            jniLibs.srcDir 'src/main/jniLibs'
        }
    }
    packagingOptions {
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/NOTICE'
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/NOTICE.txt'
        exclude 'META-INF/CERT.RSA'
        exclude 'META-INF'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/ffmpeg/pom.xml'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/ffmpeg/pom.properties'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/libdc1394/pom.properties'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/libdc1394/pom.xml'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/flandmark/pom.properties'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/flandmark/pom.xml'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/opencv/pom.xml'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/opencv/pom.properties'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/libfreenect/pom.xml'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/libfreenect/pom.properties'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/flycapture/pom.xml'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/flycapture/pom.properties'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/videoinput/pom.xml'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/videoinput/pom.properties'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/artoolkitplus/pom.xml'
        exclude 'META-INF/maven/org.bytedeco.javacpp-presets/artoolkitplus/pom.properties'
    }
//    productFlavors {
//        appFat {
//            versionCode = 1 * 1000000 + 1
//        }
//        appArmv7 {
//            versionCode = 9 * 1000000 + 1
//        }
//        appArmv7Neon {
//            versionCode = 5 * 1000000 + 1
//        }
//        appX86 {
//            versionCode = 7 * 1000000 + 1
//        }
//        appMips {
//            versionCode = 3 * 1000000 + 1
//        }
//    }
}



task appDebug(dependsOn: [':app:assembleDebug'])
task appRelease(dependsOn: [':app:assembleRelease'])


dependencies {
    compile fileTree(include: '*.jar', dir: 'libs')
    compile 'com.android.support:support-v4:24.2.0'
    compile 'com.android.support:appcompat-v7:24.2.0'
    compile 'com.android.support:design:24.2.0'
    compile 'com.android.support:cardview-v7:24.2.0'
    compile 'com.android.support:recyclerview-v7:24.2.0'
    compile 'com.android.support:percent:24.2.0'
    compile 'com.google.android.gms:play-services-location:9.4.0'
    compile 'com.google.code.gson:gson:2.4'
    compile 'com.google.guava:guava:18.0'
    compile 'com.github.bumptech.glide:glide:3.6.1'
    compile 'org.apache.httpcomponents:httpclient-android:4.3.5.1'
    compile('org.apache.httpcomponents:httpmime:4.3') { exclude module: "httpclient" }
    compile 'oauth.signpost:signpost-commonshttp4:1.2.1.2'
    compile 'com.pnikosis:materialish-progress:1.5'
    compile 'com.matthew-tamlin:sliding-intro-screen:2.1.1'
    compile project(':photoview')
    compile project(':volley')
    compile project(':connectivity')
    compile project(':ffmpeg')
}
